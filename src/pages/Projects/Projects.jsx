import { useEffect, useState } from 'react';
import s from './style.module.css'
import Navigation from '../../components/Navigation/Navigation';
import CardProject from '../../components/CardProject/CardProject';
import Footer from '../../components/Footer/Footer';


const projects = [
    {
        name: "Современный коттедж «Минималист»",
        description: "Проект для ценителей лаконичного дизайна и функциональности. Просторные помещения с панорамными окнами, открытая терраса и каминная зона.",
        location: "Подмосковье, коттеджный поселок «Зеленые Холмы»",
        images: [
            "/imgCardProject/1.png",
            "https://example.com/minimalist2.jpg",
            "https://example.com/minimalist3.jpg"
        ],
        advantages: ["Панорамное остекление", "Умный дом", "Экологичные материалы", "Терраса с видом на лес"],
        details: {
            fullDescription: "Дом в стиле contemporary с плоской крышей и геометричными формами. Внутри - открытая планировка с зонированием светом и мебелью. Кухня-гостиная объединена с террасой через раздвижные системы. Спальни на втором этаже имеют отдельные гардеробные. Использованы натуральные материалы: бетон, дерево, сталь.",
            targetAudience: "Для дизайнеров, IT-специалистов и всех, кто ценит чистые линии и технологичные решения.",
            features: ["Площадь: 180-220 м²", "Срок строительства: 12 мес.", "Участок от 10 соток", "Smart-инженерия"]
        }
    },
    {
        name: "Дом в скандинавском стиле «Nordic»",
        description: "Уютный дом с натуральной отделкой и теплой цветовой гаммой. Большая гостиная-кухня, камин и зимний сад.",
        location: "Ленинградская область, поселок «Сосновый Бор»",
        images: [
            "/imgCardProject/2.png",
            "https://example.com/nordic2.jpg",
            "https://example.com/nordic3.jpg"
        ],
        advantages: ["Терраса с камином", "Дровяная сауна", "Детская игровая зона"],
        details: {
            fullDescription: "Традиционный скандинавский дом из клееного бруса с медной кровлей. Главная особенность - зимний сад с буферным остеклением, который служит тепловым аккумулятором. В интерьере преобладает светлое дерево, белые стены и текстиль. Система «теплый пол» на первом этаже и печное отопление на втором.",
            targetAudience: "Семьи с детьми, любители экологичного жилья и поклонники hygge-философии.",
            features: ["Площадь: 150-190 м²", "Строительство: 10 мес.", "Финские технологии", "Участок от 8 соток"]
        }
    },
    {
        name: "Классический особняк «Аристократ»",
        description: "Роскошный дом с колоннами, высокими потолками и мраморными полами. Винный погреб, бильярдная и домашний кинотеатр.",
        location: "Московская область, Рублево-Успенское шоссе",
        images: [
            "/imgCardProject/3.png",
            "https://example.com/aristocrat2.jpg",
            "https://example.com/aristocrat3.jpg"
        ],
        advantages: ["Домашний кинотеатр", "Винный погреб", "Зимний сад", "Бассейн с подогревом"],
        details: {
            fullDescription: "Особняк в неоклассическом стиле с парадным фасадом из натурального камня. Центральный элемент - двухсветная гостиная с мраморным камином. На цокольном этаже: SPA-зона с бассейном, хамамом и тренажерным залом. Отделка включает лепнину, паркет из дуба и шелковые обои.",
            targetAudience: "Для статусных владельцев, ценителей традиционной роскоши и коллекционеров.",
            features: ["Площадь: 450-600 м²", "Срок: 18-24 мес.", "Участок от 30 соток", "Элитные материалы"]
        }
    },
    {
        name: "Дача «Лесная Усадьба»",
        description: "Небольшой уютный дом для отдыха на природе. Веранда с качелями, мангал и фруктовый сад.",
        location: "Калужская область, деревня «Берёзки»",
        images: [
            "/imgCardProject/4.png",
            "https://example.com/forest-house2.jpg",
            "https://example.com/forest-house3.jpg"
        ],
        advantages: ["Баня с парилкой", "Садовая беседка", "Детская площадка"],
        details: {
            fullDescription: "Бревенчатый дом ручной рубки с просторной верандой и русской печью. Компактная планировка включает гостевую зону на первом этаже и мансарду со спальнями. На участке - банный комплекс с купелью, сад с плодовыми деревьями и зона для барбекю.",
            targetAudience: "Для тех, кто ищет место для семейного отдыха на выходные и каникулы.",
            features: ["Площадь: 80-120 м²", "Строительство: 6 мес.", "Готовый проект", "Участок 6-12 соток"]
        }
    },
    {
        name: "Таунхаус «Городской Квартал»",
        description: "Современный таунхаус в черте города с отдельным входом и небольшим двором. Открытая планировка, гардеробная и крытая парковка.",
        location: "Москва, Новая Москва",
        images: [
            "https://example.com/townhouse1.jpg",
            "https://example.com/townhouse2.jpg",
            "https://example.com/townhouse3.jpg"
        ],
        advantages: ["Собственный дворик", "Подземный паркинг", "Система «умный дом»"],
        details: {
            fullDescription: "3-этажный таунхаус с панорамным остеклением и террасой на крыше. Первый этаж: кухня-гостиная и технические помещения. Второй: спальни и кабинет. Третий: мастер-спальня с гардеробной. Во дворе - место для летней кухни и небольшого сада.",
            targetAudience: "Молодые семьи, желающие жить за городом без отрыва от городской инфраструктуры.",
            features: ["Площадь: 140-180 м²", "Срок: 9 мес.", "Клубный поселок", "Рассрочка 0%"]
        }
    },
    {
        name: "Мини-отель «Гостевой Дом»",
        description: "Проект для предпринимателей: компактный гостевой дом с 6 номерами, общей кухней и зоной отдыха.",
        location: "Краснодарский край, г. Геленджик",
        images: [
            "https://example.com/guest-house1.jpg",
            "https://example.com/guest-house2.jpg",
            "https://example.com/guest-house3.jpg"
        ],
        advantages: ["Бассейн", "Солнечные панели", "Общая терраса"],
        details: {
            fullDescription: "Комплекс из основного дома с ресепшеном и 3 гостевых флигелей. В каждом номере: санузел и мини-кухня. Общая инфраструктура включает летнюю кухню, зону для завтраков и бассейн с шезлонгами. Автономные системы жизнеобеспечения.",
            targetAudience: "Для инвесторов в туристический бизнес или владельцев, сдающих жилье посуточно.",
            features: ["Площадь: 300 м²", "Срок: 14 мес.", "Окупаемость 3-5 лет", "Готовый бизнес-план"]
        }
    },
    {
        name: "Шале «Альпийские Луга»",
        description: "Дом в стиле горного шале с камином, сауной и видом на лес. Деревянные балки, натуральный камень и большие окна.",
        location: "Сочи, Красная Поляна",
        images: [
            "https://example.com/chalet1.jpg",
            "https://example.com/chalet2.jpg",
            "https://example.com/chalet3.jpg"
        ],
        advantages: ["Сауна с купелью", "Панорамные окна", "Каминный зал"],
        details: {
            fullDescription: "Аутентичное шале из лиственницы с массивными балками и каменным цоколем. Главная фишка - двухсветная гостиная с камином и выходом на террасу с видом на горы. В цоколе - сауна с купелью и комната отдыха. Кровля с большими свесами защищает от снега.",
            targetAudience: "Для любителей горнолыжного отдыха и тех, кто ценит атмосферу альпийских курортов.",
            features: ["Площадь: 200-250 м²", "Строительство: 16 мес.", "Адаптировано к сейсмике", "Участки от 15 соток"]
        }
    },
    {
        name: "Экодом «Зеленый Стандарт»",
        description: "Энергоэффективный дом с солнечными батареями, рекуперацией тепла и системой сбора дождевой воды.",
        location: "Тверская область, экопоселение «Радуга»",
        images: [
            "https://example.com/eco-house1.jpg",
            "https://example.com/eco-house2.jpg",
            "https://example.com/eco-house3.jpg"
        ],
        advantages: ["Солнечные панели", "Зеленая крыша", "Геотермальное отопление"],
        details: {
            fullDescription: "Дом с пассивным энергопотреблением, построенный по немецким стандартам. Каркас из клееного бруса с тройным утеплением. Системы: рекуперации воздуха, солнечные коллекторы, очистка сточных вод. Зеленая крыша с травяным покрытием улучшает микроклимат.",
            targetAudience: "Для убежденных экологов и тех, кто хочет минимизировать коммунальные расходы.",
            features: ["Площадь: 160 м²", "Срок: 14 мес.", "Энергопотребление 30 кВт·ч/м²год", "Автономные системы"]
        }
    },
    {
        name: "Дом на воде «Marina»",
        description: "Уникальный проект дома на сваях у воды. Собственный причал, терраса над водой и панорамные окна.",
        location: "Ленинградская область, Финский залив",
        images: [
            "https://example.com/marina-house1.jpg",
            "https://example.com/marina-house2.jpg",
            "https://example.com/marina-house3.jpg"
        ],
        advantages: ["Причал для лодки", "Вид на воду", "Панорамная терраса"],
        details: {
            fullDescription: "Современный дом на винтовых сваях с антикоррозийным покрытием. Основные жилые помещения на втором уровне для защиты от паводков. Панорамное остекление с видом на акваторию. Собственный понтон с местом для катера и зоной для рыбалки.",
            targetAudience: "Для яхтсменов, рыбаков и всех, кто мечтает жить у воды.",
            features: ["Площадь: 180 м²", "Срок: 20 мес.", "Спецразрешения", "Защита от волн"]
        }
    },
    {
        name: "Дуплекс «Семейный Очаг»",
        description: "Два дома на одном участке для большой семьи или сдачи в аренду. Общий двор, но раздельные входы.",
        location: "Московская область, г. Домодедово",
        images: [
            "https://example.com/duplex1.jpg",
            "https://example.com/duplex2.jpg",
            "https://example.com/duplex3.jpg"
        ],
        advantages: ["Две независимые секции", "Общая парковка", "Садовая зона"],
        details: {
            fullDescription: "Симметричный дуплекс в стиле modern с отдельными входами и общим ландшафтным дизайном. Каждая секция: 3 спальни, кухня-гостиная и терраса. Общая инфраструктура: детская площадка, зона барбекю и парковка на 4 авто.",
            targetAudience: "Для многопоколенных семей или инвесторов, сдающих вторую половину.",
            features: ["Площадь: 240 м² (120+120)", "Строительство: 11 мес.", "Гибкие планировки", "Экономия на коммуникациях"]
        }
    },
    {
        name: "Фермерский дом «Усадьба»",
        description: "Просторный дом с кладовыми, мастерской и участком для хозяйства. Кирпичная кладка, деревянные перекрытия и печное отопление.",
        location: "Рязанская область, деревня «Ивановка»",
        images: [
            "https://example.com/farm-house1.jpg",
            "https://example.com/farm-house2.jpg",
            "https://example.com/farm-house3.jpg"
        ],
        advantages: ["Летняя кухня", "Погреб", "Гараж для техники"],
        details: {
            fullDescription: "Дом в стиле русской усадьбы с просторными подсобными помещениями. На первом этаже: кухня с русской печью, кладовая для запасов и мастерская. Второй этаж - жилые комнаты. На участке: сарай для инвентаря, теплицы и место для животных.",
            targetAudience: "Для тех, кто ведет натуральное хозяйство или хочет иметь загородную резиденцию.",
            features: ["Площадь: 200 м²", "Срок: 10 мес.", "Участок от 1 га", "Печное+газовое отопление"]
        }
    },
    {
        name: "Лофт «Индустриал»",
        description: "Стильный проект с бетонными стенами, открытыми коммуникациями и металлокаркасом. Высокие потолки, антресоли и панорамные окна.",
        location: "Москва, промзона «Красный Октябрь»",
        images: [
            "https://example.com/loft1.jpg",
            "https://example.com/loft2.jpg",
            "https://example.com/loft3.jpg"
        ],
        advantages: ["Открытая планировка", "Второй свет", "Готовая студия"],
        details: {
            fullDescription: "Переоборудованное промышленное здание с сохранением исторических элементов: кирпичных стен, бетонных перекрытий и металлических балок. Высота потолков 4.5 м позволяет создать антресольный этаж. Система «умный свет» с трековыми светильниками.",
            targetAudience: "Для творческих профессионалов, урбанистов и любителей индустриальной эстетики.",
            features: ["Площадь: 150-300 м²", "Срок реконструкции: 8 мес.", "Готовые арт-пространства", "Лофт-квартал"]
        }
    },
    {
        name: "Дом-галерея «Арт-пространство»",
        description: "Совмещение жилой зоны и выставочного зала. Большие белые стены, стеклянные перегородки и зенитные фонари.",
        location: "Санкт-Петербург, Васильевский остров",
        images: [
            "https://example.com/art-house1.jpg",
            "https://example.com/art-house2.jpg",
            "https://example.com/art-house3.jpg"
        ],
        advantages: ["Галерейное освещение", "Трансформируемые перегородки", "Студия на втором этаже"],
        details: {
            fullDescription: "Экспериментальный проект, где первый этаж функционирует как выставочное пространство с профессиональным освещением, а второй - как жилая зона. Специальная система раздвижных стен позволяет менять конфигурацию залов. Зенитные фонари дают естественный верхний свет.",
            targetAudience: "Для художников, коллекционеров и организаторов культурных мероприятий.",
            features: ["Площадь: 250-400 м²", "Строительство: 15 мес.", "Музейные стандарты", "Кураторский дизайн"]
        }
    },
    {
        name: "Дом-купол «Футурист»",
        description: "Круглый дом с купольной крышей, энергоэффективной системой отопления и необычным интерьером.",
        location: "Казань, коттеджный поселок «Яшьлек»",
        images: [
            "https://example.com/dome-house1.jpg",
            "https://example.com/dome-house2.jpg",
            "https://example.com/dome-house3.jpg"
        ],
        advantages: ["Устойчивость к ветру", "Экономия на отоплении", "Необычная акустика"],
        details: {
            fullDescription: "Монолитный купол диаметром 12 метров с уникальной системой вентиляции и отопления. Центральное пространство без перегородок создает ощущение простора. Спальные ниши расположены по периметру. Купол выдерживает ураганный ветер и снеговые нагрузки.",
            targetAudience: "Для экспериментаторов, любителей science fiction и поклонников нетривиальной архитектуры.",
            features: ["Диаметр: 12-16 м", "Срок: 12 мес.", "Экономия энергии до 60%", "3D-проектирование"]
        }
    },
    {
        name: "Дом-трансформер «Модуль»",
        description: "Концепция раздвижных стен и модульных блоков. Можно увеличивать площадь, добавляя новые секции.",
        location: "Екатеринбург, микрорайон «Академический»",
        images: [
            "https://example.com/module-house1.jpg",
            "https://example.com/module-house2.jpg",
            "https://example.com/module-house3.jpg"
        ],
        advantages: ["Расширяемая планировка", "Быстрое строительство", "Мобильность"],
        details: {
            fullDescription: "Система сборных модулей на основе стального каркаса. Основной блок включает кухню-санузел, к которому можно присоединять спальные или гостевые модули. Раздвижные стены из сэндвич-панелей позволяют менять площадь помещений. Возможность демонтажа и перевозки.",
            targetAudience: "Для временного проживания, молодых семей и часто переезжающих специалистов.",
            features: ["Базовый модуль 40 м²", "Срок сборки: 3 мес.", "Возможность апгрейда", "Гарантия 10 лет"]
        }
    }
];

const Projects = () => {
    const [quantityProject, setQuantityProject] = useState(6)
    const [rollUp, setRollUp] = useState(false)
    const [search, setSearch] = useState('')
    const [searchArray, setSearchArray] = useState([])
    const [arrIsEmpty, setArrIsEmpty] = useState('')

    useEffect(() => {
        setSearchArray(projects)
    }, [])

    const clickMore = () => {
        if (quantityProject + 6 > projects.length) {
            setQuantityProject(projects.length)
            setRollUp(true)
            return
        }
        setQuantityProject(quantityProject => quantityProject + 6)
    }

    const clickRollUp = () => {
        setQuantityProject(6)
        setRollUp(false)
    }

    const changeSearch = (e) => {
        setSearch(e.target.value)
        if (e.target.value === '') {
            setSearchArray(projects)
            setArrIsEmpty('')
        }
    }

    const clickSearch = () => {
        const arr = projects.filter(project => project.name.toLocaleLowerCase().includes(search.toLocaleLowerCase()));
        setSearchArray(arr)
        if (arr.length === 0) {
            return setArrIsEmpty('Ничего не найдено')
        }
        setArrIsEmpty('')
        console.log('arr', arr);
        console.log('projects', projects);
    }

    return (
        <>
            <Navigation />
            <div className={s.Projects}>

                <div className={s.heading}>
                    <div className={s.title}><img src="../../public/Heading/Vector (3).svg" alt="" />Наши проекты</div>
                    <p className={s.description}>
                        Изучите наше портфолио, чтобы оценить широту и качество нашей работы, а также получить вдохновение для начала собственного проекта мечты.
                    </p>
                </div>

                <div className={s.search}>
                    <input type="search" placeholder='Введите текст...' value={search} onChange={(e) => changeSearch(e)} />
                    <button onClick={clickSearch} className={s.find}>Найти</button>
                </div>

                {arrIsEmpty
                    ? <div className={s.empty}>Ничего не найдено</div>
                    : <div className={s.cards}>
                        {(searchArray.length ? searchArray.slice(0, quantityProject) : projects.slice(0, quantityProject)).map(project => (
                            <CardProject project={project} />
                        ))}
                    </div>}


                <div style={{ display: 'flex', gap: 20 }}>
                    {searchArray.length > quantityProject && <button className={s.seeMore} onClick={clickMore}>See more</button>}
                    {quantityProject > 6 && <button className={s.seeMore} onClick={clickRollUp}>Roll up</button>}
                </div>
            </div>
            <Footer />
        </>
    )
}

export default Projects;