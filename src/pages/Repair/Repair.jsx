import { useEffect, useState } from 'react';
import s from './style.module.css'
import Navigation from '../../components/Navigation/Navigation';
import CardRepair from '../../components/CardRepair/CardRepair';
import Footer from '../../components/Footer/Footer';

const repairs = [
    {
        name: "Капитальный ремонт квартиры в стиле «Лофт»",
        description: "Превращение типовой панельной квартиры в современное пространство с индустриальными элементами.",
        location: "Москва, район Хамовники",
        images: [
            "https://example.com/loft-renov1.jpg",
            "https://example.com/loft-renov2.jpg",
            "https://example.com/loft-renov3.jpg"
        ],
        advantages: ["Демонтаж перегородок", "Бетонные стены", "Открытые коммуникации", "Трековое освещение"],
        details: {
            fullDescription: "Полная перепланировка 2-комнатной квартиры 1970-х годов с объединением кухни-гостиной и созданием кабинета-трансформера. Сохранены и обыграны исторические элементы: вентиляционные шахты, чугунные стояки. Основные материалы: микроцемент, черненый металл, рециклированное дерево.",
            targetAudience: "Молодые профессионалы 25-35 лет, ценящие урбанистическую эстетику и открытые пространства.",
            features: ["Площадь: 58 м²", "Срок: 3 месяца", "Стоимость: 2.8 млн руб", "Дизайн-проект включен"]
        }
    },
    {
        name: "Ремонт кухни-гостиной «Сканди»",
        description: "Создание уютного семейного пространства в скандинавском стиле с функциональной кухонной зоной.",
        location: "Санкт-Петербург, Приморский район",
        images: [
            "https://example.com/scandi-kitchen1.jpg",
            "https://example.com/scandi-kitchen2.jpg",
            "https://example.com/scandi-kitchen3.jpg"
        ],
        advantages: ["Кухонный остров", "Встроенная техника", "Паркетная доска", "Эргономичное хранение"],
        details: {
            fullDescription: "Комплексный ремонт 28 м² совмещенного пространства с заменой всех инженерных систем. Особенности: кухонный гарнитур из массива дуба с скрытыми ручками, встроенная система вентиляции, зонирование светом. Цветовая гамма: белый + натуральное дерево + акценты терракотового.",
            targetAudience: "Молодые семьи с детьми, предпочитающие светлые экологичные интерьеры.",
            features: ["Площадь: 28 м²", "Срок: 6 недель", "Стоимость: 1.2 млн руб", "Гарантия 3 года"]
        }
    },
    {
        name: "Премиальный ремонт пентхауса",
        description: "Эксклюзивная отделка апартаментов с панорамным остеклением и авторским дизайном.",
        location: "Москва, башня «Федерация»",
        images: [
            "https://example.com/penthouse1.jpg",
            "https://example.com/penthouse2.jpg",
            "https://example.com/penthouse3.jpg"
        ],
        advantages: ["Мраморные полы", "Умный дом", "Дизайнерская мебель", "Камин"],
        details: {
            fullDescription: "Полномасштабный ремонт 340 м² пентхауса с перепланировкой и созданием приватной SPA-зоны. Использованы эксклюзивные материалы: ониксовые панели с подсветкой, шпон редких пород дерева, керамика под заказ. Реализована многосценарная система освещения и климат-контроля.",
            targetAudience: "Топ-менеджеры и владельцы бизнеса, ожидающие безупречного качества и статусных решений.",
            features: ["Площадь: 340 м²", "Срок: 9 месяцев", "Стоимость: 38 млн руб", "Элитные материалы"]
        }
    },
    {
        name: "Ремонт детской комнаты «Город мечты»",
        description: "Тематический дизайн комнаты для мальчика с трансформирующейся мебелью и игровыми зонами.",
        location: "Краснодар, мкр. Губернский",
        images: [
            "https://example.com/kids-room1.jpg",
            "https://example.com/kids-room2.jpg",
            "https://example.com/kids-room3.jpg"
        ],
        advantages: ["Многоуровневый потолок", "Встроенные шкафы", "Безопасные материалы", "Развивающая среда"],
        details: {
            fullDescription: "Комплексное решение для комнаты 18 м² с созданием отдельных зон для сна, учебы и игр. Особенности: кровать-чердак со столом под ней, магнитная грифельная стена, модульная система хранения. Использованы гипоаллергенные краски и шумоизоляция перегородок.",
            targetAudience: "Родители детей 5-12 лет, заботящиеся о гармоничном развитии ребенка.",
            features: ["Площадь: 18 м²", "Срок: 3 недели", "Стоимость: 650 тыс. руб", "Сертификаты безопасности"]
        }
    },
    {
        name: "Ремонт ванной комнаты «SPA-оазис»",
        description: "Превращение стандартной совмещенной санузлы в роскошную зону релаксации.",
        location: "Сочи, ул. Навагинская",
        images: [
            "https://example.com/spa-bath1.jpg",
            "https://example.com/spa-bath2.jpg",
            "https://example.com/spa-bath3.jpg"
        ],
        advantages: ["Джакузи", "Подогрев пола", "Встроенная подсветка", "Влагостойкие материалы"],
        details: {
            fullDescription: "Капитальный ремонт 12 м² санузла с заменой всех коммуникаций и созданием SPA-атмосферы. Установлена угловая гидромассажная ванна, душевая зона с тропическим душем, туалетный столик с подсветкой. Стены отделаны мозаикой и крупноформатной керамикой.",
            targetAudience: "Ценители комфорта и релаксации, желающие создать курортную атмосферу дома.",
            features: ["Площадь: 12 м²", "Срок: 4 недели", "Стоимость: 950 тыс. руб", "Акриловая гидроизоляция"]
        }
    },
    {
        name: "Ремонт офиса «Коворкинг»",
        description: "Создание современного рабочего пространства для креативной команды.",
        location: "Екатеринбург, ул. Малышева",
        images: [
            "https://example.com/coworking1.jpg",
            "https://example.com/coworking2.jpg",
            "https://example.com/coworking3.jpg"
        ],
        advantages: ["Модульные перегородки", "Акустические панели", "Зоны релакса", "Эргономичная мебель"],
        details: {
            fullDescription: "Реконструкция 120 м² офисного помещения с созданием гибкого пространства. Включает: open-space на 20 рабочих мест, 4 переговорные кабины, кухню-столовую и lounge-зону. Применены решения для шумоизоляции и система климат-контроля.",
            targetAudience: "Стартапы и digital-компании, ориентированные на командную работу.",
            features: ["Площадь: 120 м²", "Срок: 2 месяца", "Стоимость: 4.2 млн руб", "Технадзор включен"]
        }
    },
    {
        name: "Ремонт загородного дома «Под ключ»",
        description: "Комплексная отделка нового коттеджа с нуля до готовности к проживанию.",
        location: "Московская обл., пос. Барвиха",
        images: [
            "https://example.com/cottage-renov1.jpg",
            "https://example.com/cottage-renov2.jpg",
            "https://example.com/cottage-renov3.jpg"
        ],
        advantages: ["Черновая отделка", "Инженерные системы", "Чистовая отделка", "Ландшафтный дизайн"],
        details: {
            fullDescription: "Полный цикл работ в доме 280 м²: от монтажа теплых полов и вентиляции до финишной отделки и декорирования. Особенности: каминный зал с отделкой натуральным камнем, кухня с островом, SPA-зона с хамамом. Установлена система «умный дом».",
            targetAudience: "Владельцы новых загородных домов, желающие получить готовое решение без лишних хлопот.",
            features: ["Площадь: 280 м²", "Срок: 5 месяцев", "Стоимость: 12 млн руб", "Гарантия 5 лет"]
        }
    },
    {
        name: "Ремонт балкона «Зимний сад»",
        description: "Теплое остекление и отделка балкона с созданием зоны отдыха.",
        location: "Казань, ЖК «Весна»",
        images: [
            "https://example.com/balcony1.jpg",
            "https://example.com/balcony2.jpg",
            "https://example.com/balcony3.jpg"
        ],
        advantages: ["Теплые окна", "Электрообогрев", "Встроенные шкафы", "Фитостена"],
        details: {
            fullDescription: "Утепление и отделка балкона 6 м² с превращением в функциональное пространство. Выполнено: безрамное остекление, монтаж теплого пола, установка фитостены с автополивом, встроенная система хранения. Использованы влагостойкие панели под дерево.",
            targetAudience: "Городские жители, стремящиеся увеличить полезную площадь квартиры.",
            features: ["Площадь: 6 м²", "Срок: 2 недели", "Стоимость: 350 тыс. руб", "Температура зимой +22°C"]
        }
    },
    {
        name: "Ремонт квартиры для сдачи в аренду",
        description: "Оптимальное решение для инвесторов: качественная отделка по разумной цене.",
        location: "Санкт-Петербург, ЖК «Гранд Фамилия»",
        images: [
            "https://example.com/rent-renov1.jpg",
            "https://example.com/rent-renov2.jpg",
            "https://example.com/rent-renov3.jpg"
        ],
        advantages: ["Износостойкие материалы", "Нейтральный дизайн", "Стандартные решения", "Быстрые сроки"],
        details: {
            fullDescription: "Ремонт 1-комнатной квартиры 45 м² с использованием материалов повышенной износостойкости. Ламинат 33 класса, моющиеся обои, плитка в санузле. Установлена базовая сантехника и кухонный гарнитур эконом-класса. Оптимально для аренды на 3-5 лет.",
            targetAudience: "Инвесторы в недвижимость, планирующие сдавать жилье в долгосрочную аренду.",
            features: ["Площадь: 45 м²", "Срок: 3 недели", "Стоимость: 850 тыс. руб", "Окупаемость 2 года"]
        }
    },
    {
        name: "Ремонт гардеробной комнаты",
        description: "Организация системы хранения с индивидуальным подходом.",
        location: "Москва, Рублевское шоссе",
        images: [
            "https://example.com/dressing-room1.jpg",
            "https://example.com/dressing-room2.jpg",
            "https://example.com/dressing-room3.jpg"
        ],
        advantages: ["Индивидуальные решения", "Система «Компакт»", "Зеркальные панели", "Подсветка"],
        details: {
            fullDescription: "Превращение комнаты 10 м² в функциональную гардеробную с системой хранения премиум-класса. Включает: секции для одежды, обуви, аксессуаров; остров с ювелирными ящиками; зеркала во весь рост; автоматическую подсветку. Материалы: массив ясеня, матовое стекло.",
            targetAudience: "Ценители порядка и функциональности, обладатели обширного гардероба.",
            features: ["Площадь: 10 м²", "Срок: 3 недели", "Стоимость: 1.1 млн руб", "Пожизненная гарантия на фурнитуру"]
        }
    },
    {
        name: "Ремонт квартиры-студии",
        description: "Создание уютного пространства для одного человека или пары.",
        location: "Москва, ЖК «Серебряный фонтан»",
        images: [
            "https://example.com/studio1.jpg",
            "https://example.com/studio2.jpg",
            "https://example.com/studio3.jpg"
        ],
        advantages: ["Многофункциональная мебель", "Зонирование", "Светлые тона", "Встроенная техника"],
        details: {
            fullDescription: "Оптимизация 38 м² студии с созданием визуально просторного интерьера. Решения: кровать-трансформер, кухонный остров со столешницей для приема пищи, скрытые системы хранения. Цветовая схема: белый + серый + древесные тона для визуального расширения пространства.",
            targetAudience: "Молодые специалисты и студенты, ценящие компактные и умные решения.",
            features: ["Площадь: 38 м²", "Срок: 4 недели", "Стоимость: 1.5 млн руб", "Дизайн-проект в подарок"]
        }
    },
    {
        name: "Ремонт медицинского кабинета",
        description: "Специализированная отделка помещения под требования СанПиН.",
        location: "Санкт-Петербург, ул. Ленина",
        images: [
            "https://example.com/med-room1.jpg",
            "https://example.com/med-room2.jpg",
            "https://example.com/med-room3.jpg"
        ],
        advantages: ["Моечные поверхности", "Бактерицидные лампы", "Антискользящие полы", "Сертифицированные материалы"],
        details: {
            fullDescription: "Ремонт 25 м² кабинета стоматолога с полным соблюдением медицинских норм. Выполнено: влагостойкая отделка стен и потолка, установка раковин с локтевыми смесителями, монтаж медицинского газоснабжения. Использованы материалы с антибактериальным покрытием.",
            targetAudience: "Частные клиники и медицинские центры, требующие соответствия стандартам.",
            features: ["Площадь: 25 м²", "Срок: 5 недель", "Стоимость: 2.3 млн руб", "Сертификат соответствия"]
        }
    },
    {
        name: "Ремонт ресторана «Гастрономия»",
        description: "Авторский дизайн и функциональная планировка заведения общепита.",
        location: "Москва, ЦАО",
        images: [
            "https://example.com/restaurant1.jpg",
            "https://example.com/restaurant2.jpg",
            "https://example.com/restaurant3.jpg"
        ],
        advantages: ["Профессиональная кухня", "Авторское освещение", "Эксклюзивная мебель", "Зонирование зала"],
        details: {
            fullDescription: "Полная реконструкция 180 м² помещения под ресторан на 50 посадочных мест. Включает: производственную зону с профессиональным оборудованием, барную стойку, обеденный зал с разными типами посадки (банкет, барные стулья, диваны). Особое внимание уделено акустике и светодизайну.",
            targetAudience: "Рестораторы и владельцы HoReCa, стремящиеся создать уникальное заведение.",
            features: ["Площадь: 180 м²", "Срок: 4 месяца", "Стоимость: 18 млн руб", "Технологический проект"]
        }
    },
    {
        name: "Ремонт спальни «Премиум»",
        description: "Создание роскошного приватного пространства с элементами будуара.",
        location: "Москва, Рублево-Успенское ш.",
        images: [
            "https://example.com/premium-bedroom1.jpg",
            "https://example.com/premium-bedroom2.jpg",
            "https://example.com/premium-bedroom3.jpg"
        ],
        advantages: ["Зеркальный потолок", "Гардеробная", "Система «Умная кровать»", "Диммируемое освещение"],
        details: {
            fullDescription: "Эксклюзивная отделка 35 м² спальни с созданием атмосферы luxury-отеля. Основные элементы: кровать с подсветкой и системой массажа, гардеробная с островом, туалетный столик с голливудским освещением. Использованы шелковые обои, паркет из мербау, хрустальные светильники.",
            targetAudience: "Ценители роскоши и комфорта, готовые инвестировать в приватное пространство.",
            features: ["Площадь: 35 м²", "Срок: 6 недель", "Стоимость: 3.5 млн руб", "Элитные материалы"]
        }
    },
    {
        name: "Ремонт подъезда жилого дома",
        description: "Комплексное обновление общественного пространства с современными решениями.",
        location: "Санкт-Петербург, ЖК «Северная долина»",
        images: [
            "https://example.com/hallway1.jpg",
            "https://example.com/hallway2.jpg",
            "https://example.com/hallway3.jpg"
        ],
        advantages: ["Износостойкие покрытия", "Видеонаблюдение", "Энергосберегающее освещение", "Колясочная"],
        details: {
            fullDescription: "Капитальный ремонт подъезда 16-этажного дома площадью 320 м². Работы включают: замену лифтовых холлов, отделку стен и полов керамогранитом, установку системы контроля доступа, монтаж антивандальных светильников. Организованы зоны для колясок и велосипедов.",
            targetAudience: "ТСЖ и управляющие компании, стремящиеся повысить комфорт и безопасность жильцов.",
            features: ["Площадь: 320 м²", "Срок: 2 месяца", "Стоимость: 4.8 млн руб", "Гарантия 7 лет"]
        }
    }
];


const Repair = () => {
    const [quantityProject, setQuantityProject] = useState(6)
    const [rollUp, setRollUp] = useState(false)
    const [search, setSearch] = useState('')
    const [searchArray, setSearchArray] = useState([])
    const [arrIsEmpty, setArrIsEmpty] = useState('')

    useEffect(() => {
        setSearchArray(repairs)
    }, [])

    const clickMore = () => {
        if (quantityProject + 6 > repairs.length) {
            setQuantityProject(repairs.length)
            setRollUp(true)
            return
        }
        setQuantityProject(quantityProject => quantityProject + 6)
    }

    const clickRollUp = () => {
        setQuantityProject(6)
        setRollUp(false)
    }

    const changeSearch = (e) => {
        setSearch(e.target.value)
        if (e.target.value === '') {
            setSearchArray(repairs)
            setArrIsEmpty('')
        }
    }

    const clickSearch = () => {
        const arr = repairs.filter(repair => repair.title.toLocaleLowerCase().includes(search.toLocaleLowerCase()));
        setSearchArray(arr)
        if (arr.length === 0) {
            return setArrIsEmpty('Ничего не найдено')
        }
        setArrIsEmpty('')
        console.log('arr', arr);
        console.log('projects', repairs);
    }

    return (
        <>
            <Navigation />
            <div className={s.Repair}>

                <div className={s.heading}>
                    <div className={s.title}>Ремонт<img src="/Heading/Vector (3).svg" alt="" /></div>
                    <p className={s.description}>
                        Изучите наше портфолио, чтобы оценить широту и качество нашей работы, а также получить вдохновение для начала собственного проекта мечты.
                    </p>
                </div>

                <div className={s.search}>
                    <input type="search" placeholder='Введите текст...' value={search} onChange={(e) => changeSearch(e)} />
                    <button onClick={clickSearch} className={s.find}>Найти</button>
                </div>

                {arrIsEmpty
                    ? <div className={s.empty}>Ничего не найдено</div>
                    : <div className={s.cards}>
                        {(searchArray.length ? searchArray.slice(0, quantityProject) : repairs.slice(0, quantityProject)).map(repair => (
                            <CardRepair project={repair} />
                        ))}
                    </div>}


                <div style={{ display: 'flex', gap: 20 }}>
                    {searchArray.length > quantityProject && <button className={s.seeMore} onClick={clickMore}>See more</button>}
                    {quantityProject > 6 && <button className={s.seeMore} onClick={clickRollUp}>Roll up</button>}
                </div>
            </div>
            <Footer />
        </>
    )
}

export default Repair;